
## 1. Concepto General
**TCP (Transmission Control Protocol)** y **UDP (User Datagram Protocol)** son protocolos de **capa de transporte** del modelo OSI (Capa 4) y del modelo TCP/IP.  
Su función principal es **llevar datos desde aplicaciones origen hasta aplicaciones destino** a través de la red.

---

## 2. Características Principales

| Característica           | **TCP**                                          | **UDP**                                   |
|--------------------------|---------------------------------------------------|--------------------------------------------|
| Tipo de conexión         | **Orientado a conexión** (se establece antes de enviar datos). | **No orientado a conexión** (envío directo de datagramas). |
| Fiabilidad               | Fiable: garantiza entrega, orden y sin duplicados. | No garantiza entrega, orden ni control de errores más allá del checksum. |
| Control de flujo         | Sí, ajusta la velocidad según el receptor.        | No hay control de flujo.                   |
| Corrección de errores    | Reconocimientos (ACKs), retransmisiones.          | Solo checksum básico; si falla se descarta. |
| Segmentación             | Divide los datos en segmentos numerados.          | Envía datagramas independientes.           |
| Overhead (cabecera)      | 20 bytes (mínimo).                                | 8 bytes.                                   |
| Velocidad               | Más lento por el control y verificaciones.        | Más rápido al no requerir negociación ni confirmaciones. |
| Orientación             | Basado en flujo (stream).                          | Basado en mensajes (datagramas).           |

---

## 3. Funcionamiento de TCP
1. **Three-Way Handshake**: Establece la conexión.
   - SYN → SYN/ACK → ACK.
2. **Transferencia de datos**: Segmentación, numeración, control de flujo (ventana deslizante).
3. **Cierre de conexión**: Proceso de 4 pasos (FIN/ACK).

---

## 4. Funcionamiento de UDP
- No hay establecimiento de conexión.
- El remitente envía datagramas y no espera confirmación.
- Si un paquete se pierde, la aplicación debe manejarlo (si lo desea).

---

## 5. Ejemplos de Protocolos y Usos

| Protocolo/Servicio                  | Transporte | Motivo de uso                          |
|-------------------------------------|-----------|----------------------------------------|
| HTTP / HTTPS (web)                  | TCP       | Requiere fiabilidad y orden.           |
| FTP / SFTP                          | TCP       | Transferencia de archivos íntegros.    |
| SSH                                  | TCP       | Conexión segura.                       |
| Email (SMTP, IMAP, POP3)            | TCP       | Integridad y orden en mensajes.        |
| DNS (consultas estándar)            | UDP       | Respuesta rápida, pequeño volumen.     |
| DHCP                                | UDP       | Simplicidad y rapidez en asignación.   |
| Streaming (VoIP, video en vivo)     | UDP       | Velocidad prioritaria, tolera pérdidas.|
| Gaming en tiempo real               | UDP       | Baja latencia, la aplicación maneja errores.|

---

## 6. Puertos Comunes

- **TCP**: 20/21 (FTP), 22 (SSH), 25 (SMTP), 80 (HTTP), 443 (HTTPS).
- **UDP**: 53 (DNS), 67/68 (DHCP), 69 (TFTP), 123 (NTP), 161 (SNMP).

---

## 7. Diagnóstico y Comandos
- `netstat -an` (Windows/Linux): ver puertos abiertos TCP/UDP.
- `ss -tuln` (Linux): listar sockets.
- `telnet <ip> <puerto>`: probar conectividad TCP.
- `nc -u <ip> <puerto>`: probar UDP.

---

## 8. Comparación Rápida
- **TCP**: Cuando la integridad y el orden de los datos es crítico (ej. banca en línea, correo).
- **UDP**: Cuando importa más la rapidez que la fiabilidad (ej. streaming, juegos).

---

## 9. Tips de Examen CCNA
- Saber que **TCP garantiza entrega y orden**; UDP no.
- Reconocer que **UDP es más eficiente** para tráfico en tiempo real.
- Recordar que ambos trabajan en **capa 4 del modelo OSI**.
- Identificar correctamente protocolos y puertos asociados.

---
